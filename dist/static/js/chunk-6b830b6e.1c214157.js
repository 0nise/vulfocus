(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6b830b6e"],{"214f":function(t,e,n){"use strict";n("b0c5");var a=n("2aba"),i=n("32e9"),s=n("79e5"),r=n("be13"),c=n("2b4c"),o=n("520a"),u=c("species"),l=!s((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),d=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var f=c(t),g=!s((function(){var e={};return e[f]=function(){return 7},7!=""[t](e)})),m=g?!s((function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[u]=function(){return n}),n[f](""),!e})):void 0;if(!g||!m||"replace"===t&&!l||"split"===t&&!d){var p=/./[f],v=n(r,f,""[t],(function(t,e,n,a,i){return e.exec===o?g&&!i?{done:!0,value:p.call(e,n,a)}:{done:!0,value:t.call(n,e,a)}:{done:!1}})),_=v[0],h=v[1];a(String.prototype,t,_),i(RegExp.prototype,f,2==e?function(t,e){return h.call(t,this,e)}:function(t){return h.call(t,this)})}}},3007:function(t,e,n){"use strict";n.d(e,"g",(function(){return i})),n.d(e,"d",(function(){return s})),n.d(e,"c",(function(){return r})),n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return o})),n.d(e,"f",(function(){return u})),n.d(e,"h",(function(){return l})),n.d(e,"e",(function(){return d}));var a=n("b775");function i(t){return void 0===t&&(t=""),Object(a["a"])({url:"/images/?query="+t,method:"get"})}function s(t){return Object(a["a"])({url:"/container/"+t+"/status/",method:"get"})}function r(t){return Object(a["a"])({url:"/images/"+t+"/start/",method:"get"})}function c(){return Object(a["a"])({url:"/container/",method:"get"})}function o(t){return Object(a["a"])({url:"/container/"+t+"/delete/",method:"delete"})}function u(t){return Object(a["a"])({url:"/container/"+t+"/stop/",method:"get"})}function l(t,e){return Object(a["a"])({url:"/container/"+t+"/flag/?flag="+e,method:"get"})}function d(t){return Object(a["a"])({url:"/container/"+t+"/start/",method:"get"})}},"386d":function(t,e,n){"use strict";var a=n("cb7c"),i=n("83a1"),s=n("5f1b");n("214f")("search",1,(function(t,e,n,r){return[function(n){var a=t(this),i=void 0==n?void 0:n[e];return void 0!==i?i.call(n,a):new RegExp(n)[e](String(a))},function(t){var e=r(n,t,this);if(e.done)return e.value;var c=a(t),o=String(this),u=c.lastIndex;i(u,0)||(c.lastIndex=0);var l=s(c,o);return i(c.lastIndex,u)||(c.lastIndex=u),null===l?-1:l.index}]}))},"520a":function(t,e,n){"use strict";var a=n("0bfb"),i=RegExp.prototype.exec,s=String.prototype.replace,r=i,c="lastIndex",o=function(){var t=/a/,e=/b*/g;return i.call(t,"a"),i.call(e,"a"),0!==t[c]||0!==e[c]}(),u=void 0!==/()??/.exec("")[1],l=o||u;l&&(r=function(t){var e,n,r,l,d=this;return u&&(n=new RegExp("^"+d.source+"$(?!\\s)",a.call(d))),o&&(e=d[c]),r=i.call(d,t),o&&r&&(d[c]=d.global?r.index+r[0].length:e),u&&r&&r.length>1&&s.call(r[0],n,(function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(r[l]=void 0)})),r}),t.exports=r},"5f1b":function(t,e,n){"use strict";var a=n("23c6"),i=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var s=n.call(t,e);if("object"!==typeof s)throw new TypeError("RegExp exec method returned something other than an Object or null");return s}if("RegExp"!==a(t))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},"801f":function(t,e,n){"use strict";var a=n("c65f"),i=n.n(a);i.a},"83a1":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},9406:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dashboard-container"},[n("el-row",{attrs:{gutter:20}},[n("el-dialog",{attrs:{visible:t.centerDialogVisible,title:"镜像信息"},on:{"update:visible":function(e){t.centerDialogVisible=e}}},[n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.startCon,expression:"startCon"}],staticClass:"text item",attrs:{"element-loading-text":"环境启动中"}},[t._v("\n        访问地址: "+t._s(t.vul_host)+"\n      ")]),t._v(" "),n("div",{staticClass:"text item"},[t._v("\n        名称: "+t._s(t.images_name)+"\n      ")]),t._v(" "),n("div",{staticClass:"text item"},[t._v("\n        描述: "+t._s(t.images_desc)+"\n      ")]),t._v(" "),n("el-form",[n("el-form-item",{attrs:{label:"Flag"}},[n("el-input",{attrs:{placeholder:"请输入Flag：格式flag-{xxxxxxxx}"},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}})],1),t._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary",disabled:t.Cstatus},on:{click:function(e){t.subflag(t.container_id,t.input.trim())}}},[t._v("提 交")])],1)],1)],1),t._v(" "),n("el-col",[n("el-input",{staticStyle:{width:"230px"},attrs:{size:"medium"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t._v(" "),n("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px","margin-bottom":"10px"},attrs:{size:"medium",type:"primary",icon:"el-icon-search"},on:{click:t.handleQuery}},[t._v("\n        查询\n      ")])],1),t._v(" "),t._l(t.listdata,(function(e,a){return n("el-col",{key:a,staticStyle:{"padding-bottom":"18px"},attrs:{span:6}},[n("el-card",{attrs:{"body-style":{padding:"8px"},shadow:"hover"},nativeOn:{click:function(n){"running"===e.status.status&&t.open(e.image_id,e.image_vul_name,e.image_desc,e.status.status,e.status.container_id,e)}}},[n("div",{staticClass:"clearfix"},[n("svg-icon",{staticStyle:{"font-size":"20px"},attrs:{"icon-class":"bug"}}),t._v(" "),n("div",{staticStyle:{display:"inline-block",color:"#20a0ff"}},[e.status.status&&e.status.is_check?n("i",{staticClass:"el-icon-check"}):"running"===e.status.status?n("i",{staticClass:"el-icon-loading"}):t._e()]),t._v(" "),n("el-rate",{attrs:{disabled:"","show-score":"","text-color":"#ff9900","score-template":"{value}"},model:{value:e.rank,callback:function(n){t.$set(e,"rank",n)},expression:"item.rank"}})],1),t._v(" "),n("div",{staticStyle:{padding:"5px"}},[n("div",{staticClass:"container-title"},[n("span",[t._v(t._s(e.image_vul_name))])]),t._v(" "),n("div",{staticClass:"bottom clearfix"},[n("div",{staticClass:"time container-title"},[t._v(t._s(e.image_desc))])]),t._v(" "),n("el-row",["running"===e.status.status?n("el-button",{attrs:{type:"primary",size:"mini "},on:{click:function(n){return n.stopPropagation(),t.Stop(e.status.container_id,e)}}},[t._v("停止")]):n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(n){return n.stopPropagation(),t.open(e.image_id,e.image_vul_name,e.image_desc,e.status.status,e.status.container_id,e)}}},[t._v("启动")]),t._v(" "),"running"===e.status.status?n("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-stopwatch"},on:{click:function(n){return n.stopPropagation(),t.Delete(e.status.container_id,e)}}},[t._v("删除")]):t._e()],1)],1)])],1)}))],2)],1)},i=[],s=(n("386d"),n("3007")),r=(n("a566"),{name:"Dashboard",data:function(){return{listdata:[],vul_host:"",centerDialogVisible:!1,startCon:!1,input:"",images_id:"",container_id:"",images_name:"",images_desc:"",item_raw_data:"",Cstatus:!1,search:""}},created:function(){this.ListData()},methods:{ListData:function(){var t=this;Object(s["g"])().then((function(e){t.listdata=e.data}))},Cifno:function(t,e){var n=this;Object(s["d"])(t).then((function(a){var i=a.data.container_status;"stop"===i?Object(s["e"])(t).then((function(a){201===a.status&&(n.vul_host=a.data.info,n.container_id=t,e.status.status="running",e.status.container_id=container_id,n.startCon=!1,n.Cstatus=!1)})):"running"===i&&(n.vul_host=a.data.vul_host)}))},open:function(t,e,n,a,i,r){var c=this;this.images_id="",this.images_name="",this.images_desc="",this.container_id="",this.item_raw_data="",this.startCon="loading",this.item_raw_data=r,this.images_id=t,this.images_name=e,this.images_desc=n,this.centerDialogVisible=!0,!0===r.status.is_check&&(this.$message({message:"该题目已经通过",type:"success"}),this.centerDialogVisible=!1),Object(s["c"])(t).then((function(t){201===t.status?(i=t.data.container_id,c.container_id=i,c.vul_host=t.data.info,r.status.status="running",r.status.container_id=i,c.startCon=!1,c.Cstatus=!1,c.container_id=i):202===t.status?c.$message({message:t.data.msg,type:"info"}):(c.$message({message:t.data.msg,type:"error"}),c.centerDialogVisible=!1)}))},subflag:function(t,e){var n=this;Object(s["h"])(t,e).then((function(t){"2002"!==t.data.code&&"2003"!==t.data.code&&"2001"!==t.data.code||n.$message({message:"Flag错误",type:"error"}),"2000"===t.data.code&&n.$message({message:"恭喜！通过",type:"success"}),n.centerDialogVisible=!1,n.item_raw_data.status.status="stop"}))},Stop:function(t,e){var n=this;Object(s["f"])(t).then((function(t){201===t.status?(n.$message({message:t.data.msg,type:"success"}),e.status.status="stop"):n.$message({message:"容器停止失败",type:"error"})}))},Delete:function(t,e){var n=this;Object(s["a"])(t).then((function(t){201===t.status?(e.status.status="",n.images_id="",n.images_name="",n.images_desc="",n.container_id="",n.item_raw_data="",e.status.container_id="",n.$message({message:t.data.msg,type:"success"})):n.$message({message:"容器删除失败",type:"error"})}))},handleQuery:function(){var t=this;Object(s["g"])(this.search).then((function(e){t.listdata=e.data}))}}}),c=r,o=(n("801f"),n("2877")),u=Object(o["a"])(c,a,i,!1,null,"d810a502",null);e["default"]=u.exports},b0c5:function(t,e,n){"use strict";var a=n("520a");n("5ca1")({target:"RegExp",proto:!0,forced:a!==/./.exec},{exec:a})},c65f:function(t,e,n){}}]);
//# sourceMappingURL=chunk-6b830b6e.1c214157.js.map