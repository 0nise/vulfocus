{"version":3,"sources":["webpack:///./src/views/manager/setting.vue?ad25","webpack:///./src/api/setting.js","webpack:///src/views/manager/setting.vue","webpack:///./src/views/manager/setting.vue?1396","webpack:///./src/views/manager/setting.vue","webpack:///./src/views/manager/setting.vue?69c8"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","directives","name","rawName","value","expression","staticStyle","data","model","callback","$$v","$set","_v","staticClass","on","settingUpdate","staticRenderFns","settingGet","request","url","method","component"],"mappings":"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","file":"static/js/chunk-426f309d.8ff2ec21.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-form',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"margin-top\":\"30px\"},attrs:{\"label-width\":\"170px\",\"model\":_vm.data,\"element-loading-text\":\"修改中\"}},[_c('el-form-item',{attrs:{\"label\":\"分享用户名\"}},[_c('el-col',{attrs:{\"span\":20}},[_c('el-input',{model:{value:(_vm.data.share_username),callback:function ($$v) {_vm.$set(_vm.data, \"share_username\", $$v)},expression:\"data.share_username\"}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":2,\"align\":\"center\"}},[_c('el-tooltip',{attrs:{\"content\":\"镜像分享时所需要的贡献用户名，建议设置为Github用户名，方便进行统计贡献。\",\"placement\":\"top\"}},[_c('i',{staticClass:\"el-icon-question\"})])],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"Dockerhub 用户名\"}},[_c('el-col',{attrs:{\"span\":20}},[_c('el-input',{model:{value:(_vm.data.username),callback:function ($$v) {_vm.$set(_vm.data, \"username\", $$v)},expression:\"data.username\"}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":2,\"align\":\"center\"}},[_c('el-tooltip',{attrs:{\"content\":\"镜像分享时所需的登陆用户名，默认情况下无需修改。\",\"placement\":\"top\"}},[_c('i',{staticClass:\"el-icon-question\"})])],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"Dockerhub Token\"}},[_c('el-col',{attrs:{\"span\":20}},[_c('el-input',{model:{value:(_vm.data.pwd),callback:function ($$v) {_vm.$set(_vm.data, \"pwd\", $$v)},expression:\"data.pwd\"}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":2,\"align\":\"center\"}},[_c('el-tooltip',{attrs:{\"content\":\"镜像分享时所需的登陆凭证，默认情况下无需修改。\",\"placement\":\"top\"}},[_c('i',{staticClass:\"el-icon-question\"})])],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"镜像过期时间（秒）\"}},[_c('el-col',{attrs:{\"span\":20}},[_c('el-input',{model:{value:(_vm.data.time),callback:function ($$v) {_vm.$set(_vm.data, \"time\", $$v)},expression:\"data.time\"}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":2,\"align\":\"center\"}},[_c('el-tooltip',{attrs:{\"content\":\"镜像过期时间，默认为 30 分钟，最小为 1 分钟，0 为永不过期，修改后下次启动镜像开始生效。\",\"placement\":\"top\"}},[_c('i',{staticClass:\"el-icon-question\"})])],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"镜像过期删除\"}},[_c('el-col',{attrs:{\"span\":20}},[_c('el-switch',{model:{value:(_vm.data.del_container),callback:function ($$v) {_vm.$set(_vm.data, \"del_container\", $$v)},expression:\"data.del_container\"}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":2,\"align\":\"center\"}},[_c('el-tooltip',{attrs:{\"content\":\"开启之后，镜像到期会自动删除相关容器(默认开启)\",\"placement\":\"top\"}},[_c('i',{staticClass:\"el-icon-question\"})])],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"自动下载镜像\"}},[_c('el-col',{attrs:{\"span\":20}},[_c('el-switch',{model:{value:(_vm.data.is_synchronization),callback:function ($$v) {_vm.$set(_vm.data, \"is_synchronization\", $$v)},expression:\"data.is_synchronization\"}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":2,\"align\":\"center\"}},[_c('el-tooltip',{attrs:{\"content\":\"开启之后每隔 1 小时自动下载最新的镜像\",\"placement\":\"top\"}},[_c('i',{staticClass:\"el-icon-question\"})])],1)],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.settingUpdate}},[_vm._v(\"修改\")]),_vm._v(\" \"),_c('el-button',[_vm._v(\"取消\")])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import request from '@/utils/request'\n\nexport function settingGet() {\n  return request({\n    url: '/setting/get',\n    method: 'get'\n  })\n}\n\nexport function settingUpdate(data) {\n  return request({\n    url: '/setting/update/',\n    method: 'post',\n    data\n  })\n}\n","<template>\n  <div>\n    <el-row :gutter=\"20\">\n      <el-col :span=\"12\">\n        <el-form label-width=\"170px\" style=\"margin-top: 30px\" v-loading=\"loading\" :model=\"data\" element-loading-text=\"修改中\">\n          <el-form-item label=\"分享用户名\">\n            <el-col :span=\"20\">\n              <el-input v-model=\"data.share_username\"></el-input>\n            </el-col>\n            <el-col :span=\"2\" align=\"center\">\n              <el-tooltip content=\"镜像分享时所需要的贡献用户名，建议设置为Github用户名，方便进行统计贡献。\" placement=\"top\">\n                <i class=\"el-icon-question\"></i>\n              </el-tooltip>\n            </el-col>\n          </el-form-item>\n          <el-form-item label=\"Dockerhub 用户名\">\n            <el-col :span=\"20\">\n              <el-input v-model=\"data.username\"></el-input>\n            </el-col>\n            <el-col :span=\"2\" align=\"center\">\n              <el-tooltip content=\"镜像分享时所需的登陆用户名，默认情况下无需修改。\" placement=\"top\">\n                <i class=\"el-icon-question\"></i>\n              </el-tooltip>\n            </el-col>\n          </el-form-item>\n          <el-form-item label=\"Dockerhub Token\">\n            <el-col :span=\"20\">\n              <el-input v-model=\"data.pwd\"></el-input>\n            </el-col>\n            <el-col :span=\"2\" align=\"center\">\n              <el-tooltip content=\"镜像分享时所需的登陆凭证，默认情况下无需修改。\" placement=\"top\">\n                <i class=\"el-icon-question\"></i>\n              </el-tooltip>\n            </el-col>\n          </el-form-item>\n          <el-form-item label=\"镜像过期时间（秒）\" >\n            <el-col :span=\"20\">\n              <el-input v-model=\"data.time\"></el-input>\n            </el-col>\n            <el-col :span=\"2\" align=\"center\">\n              <el-tooltip content=\"镜像过期时间，默认为 30 分钟，最小为 1 分钟，0 为永不过期，修改后下次启动镜像开始生效。\" placement=\"top\">\n                <i class=\"el-icon-question\"></i>\n              </el-tooltip>\n            </el-col>\n          </el-form-item>\n          <el-form-item label=\"镜像过期删除\" >\n            <el-col :span=\"20\">\n              <el-switch v-model=\"data.del_container\"></el-switch>\n            </el-col>\n            <el-col :span=\"2\" align=\"center\">\n              <el-tooltip content=\"开启之后，镜像到期会自动删除相关容器(默认开启)\" placement=\"top\">\n                <i class=\"el-icon-question\"></i>\n              </el-tooltip>\n            </el-col>\n          </el-form-item>\n          <el-form-item label=\"自动下载镜像\" >\n            <el-col :span=\"20\">\n              <el-switch v-model=\"data.is_synchronization\"></el-switch>\n            </el-col>\n            <el-col :span=\"2\" align=\"center\">\n              <el-tooltip content=\"开启之后每隔 1 小时自动下载最新的镜像\" placement=\"top\">\n                <i class=\"el-icon-question\"></i>\n              </el-tooltip>\n            </el-col>\n          </el-form-item>\n          <el-form-item>\n            <el-button type=\"primary\" @click=\"settingUpdate\">修改</el-button>\n            <el-button>取消</el-button>\n          </el-form-item>\n        </el-form>\n      </el-col>\n    </el-row>\n  </div>\n</template>\n\n<script>\n  import { settingGet,settingUpdate } from \"@/api/setting\"\n  export default {\n    name: 'setting',\n    data() {\n      return {\n        loading: false,\n        data: {\n          share_username: '',\n          username: '',\n          pwd: '',\n          time: '1800',\n          is_synchronization: false,\n          del_container:true\n        },\n      };\n    },\n    created() {\n      this.initSetting()\n    },\n    methods:{\n      initSetting(){\n        settingGet().then(response => {\n          let rspData = response.data\n          if(rspData.status === 200){\n            this.data = rspData.data\n          }else{\n            for(let i; i < rspData.msg.length; i++){\n              this.$message({\n                message: rspData.msg[i],\n                type: \"info\",\n              })\n            }\n          }\n        })\n      },\n      settingUpdate(){\n        let formData = new FormData()\n        formData.set(\"username\", this.data.username)\n        formData.set(\"pwd\", this.data.pwd)\n        formData.set(\"time\", this.data.time)\n        formData.set(\"share_username\",this.data.share_username)\n        formData.set(\"is_synchronization\",this.data.is_synchronization)\n        formData.set(\"del_container\",this.data.del_container)\n        this.loading = true\n        settingUpdate(formData).then(response => {\n          let rspData = response.data\n          this.loading = false\n          if(rspData.status === 200){\n            this.data = rspData.data\n            this.$message({\n              message: '修改成功',\n              type: \"success\",\n            })\n          }else{\n            this.$message({\n              message: rspData.msg,\n              type: \"error\",\n            })\n          }\n\n        })\n      }\n    }\n  }\n</script>\n\n<style scoped>\n.relationContainer{\n  display:flex;\n  justify-content:center;/*主轴上居中*/\n  align-items:flex-end;/*侧轴上居中*/\n\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./setting.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./setting.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./setting.vue?vue&type=template&id=78d7fa35&scoped=true&\"\nimport script from \"./setting.vue?vue&type=script&lang=js&\"\nexport * from \"./setting.vue?vue&type=script&lang=js&\"\nimport style0 from \"./setting.vue?vue&type=style&index=0&id=78d7fa35&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"78d7fa35\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./setting.vue?vue&type=style&index=0&id=78d7fa35&scoped=true&lang=css&\""],"sourceRoot":""}